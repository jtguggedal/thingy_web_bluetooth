<!doctype html>
<html>
  <head>
    <title>Thingy:52 Web Bluetooth</title>
  </head>
  <body>
    <button id="connectBtn">Connect</button>
    <div id="temperature"></div>
    <script type="module">
      
		import Thingy from "./js/Thingy.js";

		const thingy = new Thingy({logEnabled: true});

		async function start(device) {
			await device.connect()
			.then(async () => {
				await device.temperature.connect()
				.then(async () => {
					await device.temperature._notify(true, 'config')
					.then(() => {
						setTimeout(async () => {
							console.log("\n Stopping notifications");
							await device.temperature._notify(false);
						}, 10000)
					})
				});
			});
		}
      
      document.querySelector("#connectBtn").addEventListener("click", async () => {
          start(thingy);
      });
    </script>
  </body>
</html>